<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Random Variables | Jaden&#39;s Math Blog</title>

<meta name="keywords" content="" />
<meta name="description" content="$\quad$A random variable is perhaps the most fundamental concept in probability. However, during the intro course I never thought about the motivation behind this concept and just hastily accepted it. In measure-theoretic probability, the changes in the definition took me by surprise and for a while I could not intuitively understand what it represents. Hopefully this post will make the concept more accessible and intuitive for you.
The necessity of random variables $\quad$First, despite the misleading name, a random variable is not a variable.">
<meta name="author" content="">
<link rel="canonical" href="https://www.jadenmath.com/posts/random_variables/" />
<link href="https://www.jadenmath.com/assets/css/stylesheet.min.6267fc0e48ffdb2b9a00b96fb7a0c5c21e0751f01f536ecfbfe3c6b8c32ef7e1.css" integrity="sha256-Ymf8Dkj/2yuaALlvt6DFwh4HUfAfU27Pv&#43;PGuMMu9&#43;E=" rel="preload stylesheet"
    as="style">

<link rel="icon" href="https://www.jadenmath.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.jadenmath.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.jadenmath.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://www.jadenmath.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://www.jadenmath.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.79.1" />


<meta property="og:title" content="Random Variables" />
<meta property="og:description" content="$\quad$A random variable is perhaps the most fundamental concept in probability. However, during the intro course I never thought about the motivation behind this concept and just hastily accepted it. In measure-theoretic probability, the changes in the definition took me by surprise and for a while I could not intuitively understand what it represents. Hopefully this post will make the concept more accessible and intuitive for you.
The necessity of random variables $\quad$First, despite the misleading name, a random variable is not a variable." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.jadenmath.com/posts/random_variables/" />
<meta property="article:published_time" content="2021-01-05T22:16:58-07:00" />
<meta property="article:modified_time" content="2021-01-05T22:16:58-07:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Random Variables"/>
<meta name="twitter:description" content="$\quad$A random variable is perhaps the most fundamental concept in probability. However, during the intro course I never thought about the motivation behind this concept and just hastily accepted it. In measure-theoretic probability, the changes in the definition took me by surprise and for a while I could not intuitively understand what it represents. Hopefully this post will make the concept more accessible and intuitive for you.
The necessity of random variables $\quad$First, despite the misleading name, a random variable is not a variable."/>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Random Variables",
  "name": "Random Variables",
  "description": "$\\quad$A random variable is perhaps the most fundamental concept in probability. However, during the intro course I never thought about the motivation behind this concept and just …",
  "keywords": [
    
  ],
  "articleBody": "$\\quad$A random variable is perhaps the most fundamental concept in probability. However, during the intro course I never thought about the motivation behind this concept and just hastily accepted it. In measure-theoretic probability, the changes in the definition took me by surprise and for a while I could not intuitively understand what it represents. Hopefully this post will make the concept more accessible and intuitive for you.\nThe necessity of random variables $\\quad$First, despite the misleading name, a random variable is not a variable. Hopefully the intro course has already made it clear that a random variable is a function that maps events to real numbers. Why do we need random variables in the first place? I was going to write about this until I saw this post and realized there is not much I need to add. The gist is that random variables allow us to express events and problems in the language of mathematics so that we can reduce complexity of the problems by applying powerful mathematical techniques, such as calculus or measure theory. A lot of times it is way too hard to think about individual events in the $\\sigma$-algebra, but it is much easier to solve if we can find a function that maps these elements to mathematical objects and work with the latter instead. Moreover, random variables also naturally come up in many problems we care about, especially in statistics where each “subject” are associated with some numerical values already. This is also why in an intro course, we only used combinatorics and Bayes' rule to solve certain finite, discrete problems (e.g. Poker) with very specific events of interest (we simply don’t need random variables to study a hand of flush), but we only saw continuous problems after the concept of random variables was introduced. Given how large the $\\sigma$-algebra of an uncountable sample space can become, random variables save lots of work for us!\nDiscrete vs continuous: a false dichotomy? $\\quad$In an intro course, discrete and continuous random variables are introduced separately, and there isn’t a way to bridge the two concepts. It would be much more convenient if there is a unified way to deal with any random variable so we don’t need two versions for every definition or theorem about random variables. It’s even more important if we want to study a random variable that is neither discrete nor continuous. How? Suppose we are playing a game with the following rules: in each round a coin is flipped, if it lands on head then we each roll a dice and get a score equal to the number we roll; if it lands on tail we each throw a dart at a target and the score is the inverted normalized distance from the center from 1 to 6 (6 is center). After certain number of rounds, the person with the highest cumulative score wins. If we let $X$ be a discrete random variable that outputs the score (integers 1 to 6) of dice rolling, and $Y$ be a continuous random variable that outputs the score (real numbers in $[1,6]$) of dart throwing, then we might be interested in studying a random variable $Z$ that represent a participant’s score of a single round, where $Z=X$ if the coin lands head and $Z=Y$ if the coin lands tail. Hold up, we notice that $Z$ is neither discrete nor continuous but some sort of hybrid random variable! We are never exposed to this type of random variables in an intro course because calculus is inadequate to handle them. So how does measure theory solve this?\n$\\quad$Let’s think, where else have we seen this discrete vs. continuous dichotomy before? Ah, we discussed this recently in the $\\sigma$-algebra post! Recall that we talked about examples with countable and uncountable sample spaces, and that $\\sigma$-algebra is exactly the concept we needed to stop treating them differently. In the case of random variables, the $\\sigma$-algebra that does the job is the Borel set on $\\mathbb{R}$, $\\mathcal{B}(\\mathbb{R})$. Let’s dive into the details.\nSimple random variables $\\quad$Even though we don’t need to, it is still helpful to start with the finite case to build some intuition (and later prove important integration results). In measure-theoretic probability, the finite case is called a simple random variable. Let’s take a look at its definition:\n$\\quad$$\\mathrm{Definition}$: Given a probability space $(\\Omega,\\mathcal{F},P)$, a function $X:\\Omega \\to \\mathbb{R}$ is a simple random variable if\n$\\quad$(i) it has a finite range;\n$\\quad$(ii) For any $x \\in \\mathbb{R}$, $$\\{X=x\\} := \\{\\omega: X(\\omega)=x \\} \\in \\mathcal{F}.$$\n$\\quad$If you are like me, your first reaction might be: what the hell is going on with (ii)? Indeed, (ii) is certainly missing from the intro definition, because we ignore all the technicalities of a $\\sigma$-algebra there. Translating set-theoretic language into English, (ii) requires the preimage of any real number $x$ under the function $X$ to be in $\\mathcal{F}$. Alternatively we say $X$ is measurable $\\mathcal{F}$. Well that’s still not very helpful. So let’s take a closer look.\n$\\quad$In an intro course, we are familiar with the following notation: $P(X=x)$ represents the probability of the event that the random variable $X$ outputs the value $x$ (e.g. the real number 4 might be the output of $X$ applying to the event of getting 4 heads in 10 tosses). Since $X=x$ represents an event, the notation already made us implicitly convert the real number $x$ back to the event space without using the “preimage” language. As an event of interest, $X=x$ is ought to be inside the $\\sigma$-algebra $\\mathcal{F}$ for any real number $x$.\n$\\quad$It would be helpful to also consider what could go wrong if we didn’t have (ii). First, recall that $X$ maps any subset of $\\Omega$ to a real number and that the abominations we encountered in the $\\sigma$-algebra post are subsets of $\\Omega$. So without (ii), there is nothing stopping us from mapping these abominations to a real number $a$ via $X$. Then later when we ask the question what is $P(X=a)$, we realize that $X=a$ maps back to unmeasurable sets, making $P(X=a)$ ill-defined! We certainly don’t want random variables to summon the abominations.\n$\\quad$Second, recall that $\\sigma$-algebra contains information about the events of our experiment. Let’s consider an experiment of dice rolling and let $X$ be a random variable that maps the event of rolling $x$ to the real number $x$. If we start with a limited $\\sigma$-algebra $\\mathcal{F}$ that only contain events involving rolling 1 to 5 but not 6, notice that $(\\Omega,\\mathcal{F},P)$ is still a valid probability triple. Now we ask: what is $P(X=6)$? But wait, the event $X=6$ is not in $\\mathcal{F}$, meaning that we didn’t have enough information in $\\mathcal{F}$ to answer this question. Thus, $X$ is not measurable $\\mathcal{F}$. To fix this, we can either expand our $\\sigma$-algebra to $\\mathcal{G}$ which includes events involving 6 or defining a new random variable $Y$ that removes the mapping to 6. For the latter approach, you might be wondering: what is $P(Y=6)$ now? Since 6 (or any other real number that is not integers 1 to 5) is not in the range of $Y$, the preimage of 6 under $Y$ must be the empty set. This is not a problem because $\\emptyset \\in \\mathcal{F}$ by the definition of $\\sigma$-algebra.\n$\\quad$Using the same example, we can see that $Y$ is both measurable $\\mathcal{F}$ and measurable $\\mathcal{G}$. The preimage axiom doesn’t require $Y$ to map all elements in the $\\sigma$-algebra to some real number. In other words, $Y$ is surjective but not necessarily injective. This means there exists a smallest $\\sigma$-algebra where $Y$ is measurable, once we prune enough elements in the $\\sigma$-algebra unrelated to $Y$. We call it the $\\sigma$-algebra generated by $Y$, denoted $\\sigma(Y)$. Recall that previously we defined the $\\sigma$-algebra generated by an algebra which is a collection. The concept allows us to prove many theorems in measure-theoretic probability using the $\\mathcal{M}$ trick, including the Extension Theorem. Similarly, the $\\sigma$-algebra generated by a random variable will let us use the $\\mathcal{M}$ trick again in many important proofs (see Billingsley Theorem 5.1 for an example).\nGeneral random variables $\\quad$So far we’ve only discussed simple random variables. Perhaps it’s not too hard to guess that the definition of a general random variable would remove (i). Note that we can’t really use the notation $X=x$ anymore as the image of an element in $\\mathcal{F}$ under $X$ can be uncountable. Recall that the Borel set on $\\mathbb{R}$, $\\mathcal{B}(\\mathbb{R})$, is the $\\sigma$-algebra generated by all the intervals in $\\mathbb{R}$. It turns out that it is very convenient to restrict the image of a measurable set under a random variable to another measurable set so that we can easily perform function composition (e.g. $Y \\circ X$ is only valid if the “output space” of $X$ is contained by the “input space” of $Y$, which has to be measurable). Moreover, $\\mathcal{B}(\\mathbb{R})$ contains all the sets of real numbers we need in order to encode events with 1D numerical information, including the hybrid case we mentioned earlier. Therefore, in probability we call $X$ a measurable function if the preimage of any measurable set in $\\mathcal{B}(\\mathbb{R})$ under $X$ is a measurable set in $\\mathcal{F}$. This is analogous to the concept from analysis that the preimage of an open set under a continuous function is also open. If $X$ maps sets in $\\mathcal{F}$ to sets in $\\mathcal{F}'$, we say $X$ is measurable $\\mathcal{F}/\\mathcal{F}'$.\n$\\quad$Now we are ready to define a general random variable:\n$\\quad$$\\mathrm{Definition}$: Given a probability space $(\\Omega,\\mathcal{F},P)$, a random variable is a measurable $\\mathcal{F}/\\mathcal{B}(\\mathbb{R})$ function $X:\\Omega \\to \\mathbb{R}$. That is, for every $A \\in \\mathcal{B}(\\mathbb{R})$, $\\quad$$$X^{-1}(A) := \\{\\omega: X(\\omega) \\in A\\} \\in \\mathcal{F}.$$\n$\\quad$This definition might be intuitive for us at this point, but it’s actually quite awful to work with. To prove if $X$ is a random variable, we need to check that the preimages of all sets in the Borel set are in $\\mathcal{F}$. But the Borel set is huge, and since the range is no longer finite, we definitely don’t want to check exhaustively. Well, whenever things get messy in the $\\sigma$-algebra, we fall back on easier sets: the intervals. It turns out there is an alternative definition for random variables that is less intuitive but much easier to work with. It is stated as the following:\n$\\quad$$\\mathrm{Definition}$: Given a probability space $(\\Omega,\\mathcal{F},P)$, a random variable is a function $X:\\Omega \\to \\mathbb{R}$ such that for every $x \\in \\mathbb{R}$, $\\quad$$$\\{\\omega: X(\\omega) \\leq x\\} \\in \\mathcal{F}.$$\n$\\quad$We can show that the two definitions are equivalent via an if and only if statement. The proof again uses the $\\mathcal{M}$ trick and can be found in the Appendix of this post. The intervals we fall back onto are of the form $(-\\infty, x]$, since $X(\\omega) \\leq x$ is equivalent to $X(\\omega) \\in (-\\infty, x]$. Recall that we can generate the Borel set via $\\sigma((a, b]$, so this alternative definition is essentially saying that we can just check the inverse image of these intervals that generate the Borel set instead of the much bigger Borel set itself.\n$\\quad$That still sounds pretty awful. After all, there are uncountably many such sets to check! But in practice we almost never need to explicitly check everything. Usually we try to show if $X$ is already a random variable, then something else such as a function composite with $X$ is also a random variable. So we can start from the interval definition of $X$ and get the uncountable “validity checks” for free.\nLet’s recap $\\quad$Random variables map events to mathematical objects and allow us to study random processes with the full rigor of mathematics. The concept of a $\\sigma$-algebra turns out to be essential not just for measuring the events but also for unifying the artificial classifications of random variables. The definitions of a simple and general random variable are clearly an upgrade from the intro course, and the “premium features” including the concept of measurable functions are there to safeguard that the random variable is well-defined on the given probability space. In proofs, we find it much easier to use the alternative definition of random variable because it allows us to deal with intervals instead of elements of the Borel set.\nAppendix $\\mathrm{Theorem}$: $X$ is a random variable if and only if $\\{\\omega:X(\\omega)\\leq x\\} \\in \\mathcal{F}\\ \\forall x \\in \\mathbb{R}$.\n$\\mathrm{Proof}$:\n($\\implies$) The interval of the form $(-\\infty,x]$ is a “building block” of the algebra that generated the Borel set, so it is clearly in the Borel set for any $x \\in \\mathbb{R}$.\n($\\impliedby$) Let’s apply the $\\mathcal{M}$ trick. Define $\\mathcal{M}$ to be the collection of all subsets of $\\mathbb{R}$ whose preimage under $X$ is in $\\mathcal{F}$. That is, $$\\mathcal{M} =\\{A \\subseteq \\mathbb{R}: X^{-1}(A) \\in \\mathcal{F}\\}.$$ We wish to show that $\\mathcal{M}$ is a $\\sigma$-algebra containing $\\mathcal{B}(\\mathbb{R})$.\nNotice that for any $aThis implies that $\\mathcal{M}$ contains all intervals of the form $(a,b]$.\n$\\mathrm{Claim}$: $\\mathcal{M}$ is a $\\sigma$-algebra.\n$\\quad$The proof of the claim is left as an exercise.\nRecall that $\\mathcal{B}(\\mathbb{R})$ can be defined as the $\\sigma$-algebra generated by intervals of the form $(a,b]$ in $\\mathbb{R}$. That is, it is the smallest $\\sigma$-algebra containing these intervals. Since $\\mathcal{M}$ is another $\\sigma$-algebra containing these intervals, it follows that $\\mathcal{B}(\\mathbb{R}) \\subseteq \\mathcal{M}$. $\\qquad\\qquad\\qquad\\qquad\\qquad\\qquad\\qquad\\qquad\\qquad\\qquad\\qquad\\qquad\\qquad\\qquad\\qquad\\qquad\\quad\\square$\n",
  "wordCount" : "2225",
  "inLanguage": "en",
  "datePublished": "2021-01-05T22:16:58-07:00",
  "dateModified": "2021-01-05T22:16:58-07:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.jadenmath.com/posts/random_variables/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Jaden's Math Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.jadenmath.com/favicon.ico"
    }
  }
}
</script>



</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        .theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://www.jadenmath.com/" accesskey="h" title="Jaden&#39;s Math Blog (Alt + H)">Jaden&#39;s Math Blog</a>
            <span class="logo-switches">
                <span class="theme-toggle" title="(Alt + T)">
                    <a id="theme-toggle" accesskey="t">
                        <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                            fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                        </svg>
                        <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                            fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round">
                            <circle cx="12" cy="12" r="5"></circle>
                            <line x1="12" y1="1" x2="12" y2="3"></line>
                            <line x1="12" y1="21" x2="12" y2="23"></line>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                            <line x1="1" y1="12" x2="3" y2="12"></line>
                            <line x1="21" y1="12" x2="23" y2="12"></line>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                        </svg>
                    </a>
                </span>
                
            </span>
        </div>
        <ul class="menu" id="menu" onscroll="menu_on_scroll()">
            <li>
                <a href="https://www.jadenmath.com/archive/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://www.jadenmath.com/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="https://www.jadenmath.com/resources/" title="Resources">
                    <span>Resources</span>
                </a>
            </li></ul>
    </nav>
</header>

    <main class="main">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">
      Random Variables
    </h1>
    <div class="post-meta">January 5, 2021&nbsp;·&nbsp;11 min

    </div>
  </header> 

  <div class="post-content">
<p>$\quad$A random variable is perhaps the most fundamental concept in probability. However, during the intro course I never thought about the motivation behind this concept and just hastily accepted it. In measure-theoretic probability, the changes in the definition took me by surprise and for a while I could not intuitively understand what it represents. Hopefully this post will make the concept more accessible and intuitive for you.</p>
<h2 id="the-necessity-of-random-variables">The necessity of random variables<a hidden class="anchor" aria-hidden="true" href="#the-necessity-of-random-variables">#</a></h2>
<p>$\quad$First, despite the misleading name, a random variable is <em>not</em> a variable. Hopefully the intro course has already made it clear that a random variable is a <em>function</em> that maps events to real numbers. Why do we need random variables in the first place? I was going to write about this until I saw <a href="https://quickmathintuitions.org/random-variables-why-are-they-needed/">this post</a> and realized there is not much I need to add. The gist is that random variables allow us to express events and problems in the language of mathematics so that we can reduce complexity of the problems by applying powerful mathematical techniques, such as calculus or measure theory. A lot of times it is way too hard to think about individual events in the $\sigma$-algebra, but it is much easier to solve if we can find a function that maps these elements to mathematical objects and work with the latter instead. Moreover, random variables also naturally come up in many problems we care about, especially in statistics where each &ldquo;subject&rdquo; are associated with some numerical values already. This is also why in an intro course, we only used combinatorics and Bayes' rule to solve certain finite, discrete problems (<em>e.g.</em> Poker) with very specific events of interest (we simply don&rsquo;t need random variables to study a hand of flush), but we only saw continuous problems after the concept of random variables was introduced. Given how large the $\sigma$-algebra of an uncountable sample space can become, random variables save lots of work for us!</p>
<h2 id="discrete-vs-continuous-a-false-dichotomy">Discrete vs continuous: a false dichotomy?<a hidden class="anchor" aria-hidden="true" href="#discrete-vs-continuous-a-false-dichotomy">#</a></h2>
<p>$\quad$In an intro course, discrete and continuous random variables are introduced separately, and there isn&rsquo;t a way to bridge the two concepts. It would be much more convenient if there is a unified way to deal with any random variable so we don&rsquo;t need two versions for every definition or theorem about random variables. It&rsquo;s even more important if we want to study a random variable that is neither discrete nor continuous. How? Suppose we are playing a game with the following rules: in each round a coin is flipped, if it lands on head then we each roll a dice and get a score equal to the number we roll; if it lands on tail we each throw a dart at a target and the score is the inverted normalized distance from the center from 1 to 6 (6 is center). After certain number of rounds, the person with the highest cumulative score wins. If we let $X$ be a discrete random variable that outputs the score (integers 1 to 6) of dice rolling, and $Y$ be a continuous random variable that outputs the score (real numbers in $[1,6]$) of dart throwing, then we might be interested in studying a random variable $Z$ that represent a participant&rsquo;s score of a single round, where $Z=X$ if the coin lands head and $Z=Y$ if the coin lands tail. Hold up, we notice that $Z$ is neither discrete nor continuous but some sort of hybrid random variable! We are never exposed to this type of random variables in an intro course because calculus is inadequate to handle them. So how does measure theory solve this?</p>
<p>$\quad$Let&rsquo;s think, where else have we seen this discrete vs. continuous dichotomy before? Ah, we discussed this recently in the <a href="https://www.jadenmath.com/posts/sigma_algebra/">$\sigma$-algebra post</a>! Recall that we talked about examples with countable and uncountable sample spaces, and that $\sigma$-algebra is exactly the concept we needed to stop treating them differently. In the case of random variables, the $\sigma$-algebra that does the job is the Borel set on $\mathbb{R}$, $\mathcal{B}(\mathbb{R})$. Let&rsquo;s dive into the details.</p>
<h2 id="simple-random-variables">Simple random variables<a hidden class="anchor" aria-hidden="true" href="#simple-random-variables">#</a></h2>
<p>$\quad$Even though we don&rsquo;t need to, it is still helpful to start with the finite case to build some intuition (and later prove important integration results). In measure-theoretic probability, the finite case is called a <em>simple random variable</em>. Let&rsquo;s take a look at its definition:</p>
<p>$\quad$$\mathrm{Definition}$: Given a probability space $(\Omega,\mathcal{F},P)$, a function $X:\Omega \to \mathbb{R}$ is a <strong>simple random variable</strong> if</p>
<p>$\quad$(i) it has a finite range;</p>
<p>$\quad$(ii) For any $x \in \mathbb{R}$, $$\{X=x\} := \{\omega: X(\omega)=x \} \in \mathcal{F}.$$</p>
<p>$\quad$If you are like me, your first reaction might be: what the hell is going on with (ii)? Indeed, (ii) is certainly missing from the intro definition, because we ignore all the technicalities of a $\sigma$-algebra there. Translating set-theoretic language into English, (ii) requires the preimage of any real number $x$ under the function $X$ to be in $\mathcal{F}$. Alternatively we say <em>$X$ is measurable $\mathcal{F}$</em>. Well that&rsquo;s still not very helpful. So let&rsquo;s take a closer look.</p>
<p>$\quad$In an intro course, we are familiar with the following notation: $P(X=x)$ represents the probability of the event that the random variable $X$ outputs the value $x$ (<em>e.g.</em> the real number 4 might be the output of $X$ applying to the event of getting 4 heads in 10 tosses). Since $X=x$ represents an event, the notation already made us implicitly convert the real number $x$ back to the event space without using the &ldquo;preimage&rdquo; language. As an event of interest, $X=x$ is ought to be inside the $\sigma$-algebra $\mathcal{F}$ for any real number $x$.</p>
<p>$\quad$It would be helpful to also consider what could go wrong if we didn&rsquo;t have (ii). First, recall that $X$ maps any subset of $\Omega$ to a real number and that the abominations we encountered in the <a href="https://www.jadenmath.com/posts/sigma_algebra/">$\sigma$-algebra post</a> are subsets of $\Omega$. So without (ii), there is nothing stopping us from mapping these abominations to a real number $a$ via $X$. Then later when we ask the question what is $P(X=a)$, we realize that $X=a$ maps back to unmeasurable sets, making $P(X=a)$ ill-defined! We certainly don&rsquo;t want random variables to summon the abominations.</p>
<p>$\quad$Second, recall that $\sigma$-algebra contains information about the events of our experiment. Let&rsquo;s consider an experiment of dice rolling and let $X$ be a random variable that maps the event of rolling $x$ to the real number $x$. If we start with a limited $\sigma$-algebra $\mathcal{F}$ that only contain events involving rolling 1 to 5 but not 6, notice that $(\Omega,\mathcal{F},P)$ is still a valid probability triple. Now we ask: what is $P(X=6)$? But wait, the event $X=6$ is not in $\mathcal{F}$, meaning that we didn&rsquo;t have enough information in $\mathcal{F}$ to answer this question. Thus, $X$ is not measurable $\mathcal{F}$. To fix this, we can either expand our $\sigma$-algebra to $\mathcal{G}$ which includes events involving 6 or defining a new random variable $Y$ that removes the mapping to 6. For the latter approach, you might be wondering: what is $P(Y=6)$ now? Since 6 (or any other real number that is not integers 1 to 5) is not in the range of $Y$, the preimage of 6 under $Y$ must be the empty set. This is not a problem because $\emptyset \in \mathcal{F}$ by the definition of $\sigma$-algebra.</p>
<p>$\quad$Using the same example, we can see that $Y$ is both measurable $\mathcal{F}$ and measurable $\mathcal{G}$. The preimage axiom doesn&rsquo;t require $Y$ to map all elements in the $\sigma$-algebra to some real number. In other words, $Y$ is surjective but not necessarily injective. This means there exists a smallest $\sigma$-algebra where $Y$ is measurable, once we prune enough elements in the $\sigma$-algebra unrelated to $Y$. We call it the <strong>$\sigma$-algebra generated by $Y$</strong>, denoted $\sigma(Y)$. Recall that previously we defined the $\sigma$-algebra generated by an algebra which is a collection. The concept allows us to prove many theorems in measure-theoretic probability using the $\mathcal{M}$ trick, including the Extension Theorem. Similarly, the $\sigma$-algebra generated by a random variable will let us use the $\mathcal{M}$ trick again in many important proofs (see Billingsley Theorem 5.1 for an example).</p>
<h2 id="general-random-variables">General random variables<a hidden class="anchor" aria-hidden="true" href="#general-random-variables">#</a></h2>
<p>$\quad$So far we&rsquo;ve only discussed simple random variables. Perhaps it&rsquo;s not too hard to guess that the definition of a general random variable would remove (i). Note that we can&rsquo;t really use the notation $X=x$ anymore as the image of an element in $\mathcal{F}$ under $X$ can be uncountable. Recall that the Borel set on $\mathbb{R}$, $\mathcal{B}(\mathbb{R})$, is the $\sigma$-algebra generated by all the intervals in $\mathbb{R}$. It turns out that it is very convenient to restrict the image of a measurable set under a random variable to another measurable set so that we can easily perform function composition (<em>e.g.</em> $Y \circ X$ is only valid if the &ldquo;output space&rdquo; of $X$ is contained by the &ldquo;input space&rdquo; of $Y$, which has to be measurable). Moreover, $\mathcal{B}(\mathbb{R})$ contains all the sets of real numbers we need in order to encode events with 1D numerical information, including the hybrid case we mentioned earlier. Therefore, in probability we call $X$ a <strong>measurable function</strong> if the preimage of any measurable set in $\mathcal{B}(\mathbb{R})$ under $X$ is a measurable set in $\mathcal{F}$. This is analogous to the concept from analysis that the preimage of an open set under a continuous function is also open. If $X$ maps sets in $\mathcal{F}$ to sets in $\mathcal{F}'$, we say $X$ is <em>measurable $\mathcal{F}/\mathcal{F}'$</em>.</p>
<p>$\quad$Now we are ready to define a general random variable:</p>
<p>$\quad$$\mathrm{Definition}$: Given a probability space $(\Omega,\mathcal{F},P)$, a <strong>random variable</strong> is a measurable $\mathcal{F}/\mathcal{B}(\mathbb{R})$ function $X:\Omega \to \mathbb{R}$. That is, for every $A \in \mathcal{B}(\mathbb{R})$,
$\quad$$$X^{-1}(A) := \{\omega: X(\omega) \in A\} \in \mathcal{F}.$$</p>
<p>$\quad$This definition might be intuitive for us at this point, but it&rsquo;s actually quite awful to work with. To prove if $X$ is a random variable, we need to check that the preimages of all sets in the Borel set are in $\mathcal{F}$. But the Borel set is huge, and since the range is no longer finite, we definitely don&rsquo;t want to check exhaustively. Well, whenever things get messy in the $\sigma$-algebra, we fall back on easier sets: the intervals. It turns out there is an alternative definition for random variables that is less intuitive but much easier to work with. It is stated as the following:</p>
<p>$\quad$$\mathrm{Definition}$: Given a probability space $(\Omega,\mathcal{F},P)$, a <strong>random variable</strong> is a function $X:\Omega \to \mathbb{R}$ such that for every $x \in \mathbb{R}$,
$\quad$$$\{\omega: X(\omega) \leq x\} \in \mathcal{F}.$$</p>
<p>$\quad$We can show that the two definitions are equivalent via an if and only if statement. The proof again uses the $\mathcal{M}$ trick and can be found in the Appendix of this post. The intervals we fall back onto are of the form $(-\infty, x]$, since $X(\omega) \leq x$ is equivalent to $X(\omega) \in (-\infty, x]$. Recall that we can generate the Borel set via $\sigma((a, b]$, so this alternative definition is essentially saying that we can just check the inverse image of these intervals that generate the Borel set instead of the much bigger Borel set itself.</p>
<p>$\quad$That still sounds pretty awful. After all, there are uncountably many such sets to check! But in practice we almost never need to explicitly check everything. Usually we try to show if $X$ is already a random variable, then something else such as a function composite with $X$ is also a random variable. So we can start from the interval definition of $X$ and get the uncountable &ldquo;validity checks&rdquo; for free.</p>
<h2 id="lets-recap">Let&rsquo;s recap<a hidden class="anchor" aria-hidden="true" href="#lets-recap">#</a></h2>
<p>$\quad$Random variables map events to mathematical objects and allow us to study random processes with the full rigor of mathematics. The concept of a $\sigma$-algebra turns out to be essential not just for measuring the events but also for unifying the artificial classifications of random variables. The definitions of a simple and general random variable are clearly an upgrade from the intro course, and the &ldquo;premium features&rdquo; including the concept of measurable functions are there to safeguard that the random variable is well-defined on the given probability space. In proofs, we find it much easier to use the alternative definition of random variable because it allows us to deal with intervals instead of elements of the Borel set.</p>
<h2 id="appendix">Appendix<a hidden class="anchor" aria-hidden="true" href="#appendix">#</a></h2>
<p>$\mathrm{Theorem}$: $X$ is a random variable if and only if $\{\omega:X(\omega)\leq x\} \in \mathcal{F}\ \forall x \in \mathbb{R}$.</p>
<p>$\mathrm{Proof}$:</p>
<p>($\implies$) The interval of the form $(-\infty,x]$ is a &ldquo;building block&rdquo; of the algebra that generated the Borel set, so it is clearly in the Borel set for any $x \in \mathbb{R}$.</p>
<p>($\impliedby$) Let&rsquo;s apply the $\mathcal{M}$ trick. Define $\mathcal{M}$ to be the collection of all subsets of $\mathbb{R}$ whose preimage under $X$ is in $\mathcal{F}$. That is,
$$\mathcal{M} =\{A \subseteq \mathbb{R}: X^{-1}(A) \in \mathcal{F}\}.$$
We wish to show that $\mathcal{M}$ is a $\sigma$-algebra containing $\mathcal{B}(\mathbb{R})$.</p>
<p>Notice that for any $a&lt;b \in \mathbb{R}$, $(-\infty,a]$ and $(-\infty,b]$ are in $\mathcal{M}$ by assumption. Then
\begin{align} X^{-1}((a,b]) &amp;=\{\omega:a&lt;X\leq b\} \\ &amp;=\{\omega:X\leq b\} \cap \{\omega:X\leq a\}^c\\ &amp; \in \mathcal{F} \end{align}</p>
<p>This implies that $\mathcal{M}$ contains all intervals of the form $(a,b]$.</p>
<p>$\mathrm{Claim}$: $\mathcal{M}$ is a $\sigma$-algebra.</p>
<p>$\quad$The proof of the claim is left as an exercise.</p>
<p>Recall that $\mathcal{B}(\mathbb{R})$ can be defined as the $\sigma$-algebra generated by intervals of the form $(a,b]$ in $\mathbb{R}$. That is, it is the smallest $\sigma$-algebra containing these intervals. Since $\mathcal{M}$ is another $\sigma$-algebra containing these intervals, it follows that $\mathcal{B}(\mathbb{R}) \subseteq \mathcal{M}$.
$\qquad\qquad\qquad\qquad\qquad\qquad\qquad\qquad\qquad\qquad\qquad\qquad\qquad\qquad\qquad\qquad\quad\square$</p>

</div>
  <footer class="post-footer">



<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share Random Variables on twitter"
        href="https://twitter.com/intent/tweet/?text=Random%20Variables&amp;url=https%3a%2f%2fwww.jadenmath.com%2fposts%2frandom_variables%2f&amp;hashtags=">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Random Variables on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fwww.jadenmath.com%2fposts%2frandom_variables%2f&amp;title=Random%20Variables&amp;summary=Random%20Variables&amp;source=https%3a%2f%2fwww.jadenmath.com%2fposts%2frandom_variables%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Random Variables on reddit"
        href="https://reddit.com/submit?url=https%3a%2f%2fwww.jadenmath.com%2fposts%2frandom_variables%2f&title=Random%20Variables">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Random Variables on facebook"
        href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.jadenmath.com%2fposts%2frandom_variables%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Random Variables on whatsapp"
        href="https://api.whatsapp.com/send?text=Random%20Variables%20-%20https%3a%2f%2fwww.jadenmath.com%2fposts%2frandom_variables%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Random Variables on telegram"
        href="https://telegram.me/share/url?text=Random%20Variables&amp;url=https%3a%2f%2fwww.jadenmath.com%2fposts%2frandom_variables%2f">
        <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28">
            <path
                d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
        </svg>
    </a>
</div>

  </footer>
</article>
    </main><footer class="footer">
    <span>&copy; 2021 <a href="https://www.jadenmath.com/">Jaden&#39;s Math Blog</a></span>
    <span>&middot;</span>
    <span>Powered by <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a></span>
    <span>&middot;</span>
    <span>Theme <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a></span>
	<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$','$$'], ['\\[', '\\]']],
      processEscapes: true,
      processEnvironments: true
    },
    options: {
      skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
    }
  };

  window.addEventListener('load', (event) => {
      document.querySelectorAll("mjx-container").forEach(function(x){
        x.parentElement.classList += 'has-jax'})
    });

</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

</footer>
<a href="#top">
    <button class="top-link" id="top-link" type="button" aria-label="go to top" title="Go to Top (Alt + G)"
        accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>



<script defer src="https://www.jadenmath.com/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js" integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w="
    onload="hljs.initHighlightingOnLoad();"></script>
<script>
    window.onload = function () {
        if (localStorage.getItem("menu-scroll-position")) {
            document.getElementById('menu').scrollLeft = localStorage.getItem("menu-scroll-position");
        }
    }
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                behavior: "smooth"
            });
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.replaceState(null, null, `#${id}`);
            }
        });
    });
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

    function menu_on_scroll() {
        localStorage.setItem("menu-scroll-position", document.getElementById('menu').scrollLeft);
    }

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>

</body>

</html>
